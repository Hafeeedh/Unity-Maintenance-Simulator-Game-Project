import{q as x,r as n,W as g,j as e,d as u}from"./app-BUPJ0MyC.js";import{A as y}from"./AuthenticatedLayout-Cml3nqo3.js";import"./ApplicationLogo-DNpt8IG0.js";import"./transition-DtOdZKmH.js";const E=({connections:l,vehicles:o,devices:N,auth:c})=>{x(),x();const[v,h]=n.useState(!0),a=n.useRef(),i=n.useRef(),{data:w,setData:D,delete:p,processing:k,reset:d,errors:R}=g({connection:a.current,device:i.current}),b=(r,s,t)=>{r.preventDefault(),a.current=s,i.current=t,p(route("connections.destroy",{connection:s,device:t}),{preserveScroll:!0,onSuccess:()=>f(),onFinish:()=>d()})},f=()=>{h(!1),d()};return e.jsx("div",{children:e.jsx(y,{user:c.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Dashboard - ",c.user.role]}),children:e.jsxs("div",{className:"my-4 max-w-7xl mx-auto mt-6 p-6 bg-white dark:bg-gray-800 rounded-md shadow-md",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Connection List"}),e.jsx("ul",{className:"space-y-2",children:e.jsx("ul",{children:e.jsx("li",{children:o&&o.map((r,s)=>e.jsxs("ul",{children:[e.jsx("li",{className:"text-2xl font-bold uppercase",children:r.make}),e.jsx("li",{className:"font-bold uppercase",children:"Devices:"}),e.jsx("li",{className:"p-4 text-gray-900 rounded-md shadow-md",children:r.devices&&r.devices.map((t,j)=>e.jsx("form",{onSubmit:m=>{m.preventDefault(),b(m,l[s].id,t.id)},children:e.jsxs("ol",{className:"flex",children:[e.jsx("li",{title:l[s].id,children:t.serial_number}),e.jsx("button",{className:"bg-red-500 ml-56 uppercase text-white px-4 py-1 rounded hover:bg-blue-600 ",children:"delete"})]})},j))},s),e.jsx("li",{children:e.jsx("div",{className:"flex space-x-2",children:e.jsx(u,{href:route("connections.show",{connection:l[s].id}),className:"bg-orange-500 text-white px-4 py-1 rounded hover:bg-blue-600 mt-4 mb-4 inline-block",children:"View"})})})]},s))})})}),e.jsx(u,{href:route("connections.create"),className:"bg-gray-800 text-white px-4 py-2 rounded-full hover:bg-blue-600 mt-4 inline-block",children:"Create Connection"})]})})})};export{E as default};
